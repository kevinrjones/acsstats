<h2>Innings By Innings</h2>

<app-records-header [venue]="venue" [recordSummary$]="bowlingSummary$"
                    [pageSize]="pageSize" [totalItems]="count" [currentPage]="currentPage"
                    [returnUrl]="'/records/bowling'"
                    (first)="navigate(0)"
                    (previous)="navigate($event)" (next)="navigate($event)" (last)="navigate($event)"
                    (goto)="navigate($event)">
</app-records-header>

<table class="table table-striped table-hover table-sm">
  <thead class="thead-dark">
  <tr>
    <th class="text-left">
      <a (click)="sort(importedSortOrder.name)" class="btn btn-link text-left">Name
        <fa-icon *ngIf="importedSortOrder.name == sortOrder" [icon]="getSortClass(importedSortOrder.name)"></fa-icon></a>
    </th>
    <th class="text-left">
      <a (click)="sort(importedSortOrder.team)" class="btn btn-link text-left">Team
        <fa-icon *ngIf="importedSortOrder.team == sortOrder" [icon]="getSortClass(importedSortOrder.team)"></fa-icon></a>
    </th>
    <th class="text-left">
      <a (click)="sort(importedSortOrder.opponents)" class="btn btn-link text-left">Opponents
        <fa-icon *ngIf="importedSortOrder.opponents == sortOrder" [icon]="getSortClass(importedSortOrder.opponents)"></fa-icon></a>
    </th>
    <th class="text-right">
      <a (click)="sort(importedSortOrder.balls)" class="btn btn-link">Overs
        <fa-icon *ngIf="importedSortOrder.balls == sortOrder" [icon]="getSortClass(importedSortOrder.balls)"></fa-icon></a>
    </th>
    <th class="text-right">
      <a (click)="sort(importedSortOrder.ballsPerOver)" class="btn btn-link">BpO
        <fa-icon *ngIf="importedSortOrder.ballsPerOver == sortOrder" [icon]="getSortClass(importedSortOrder.ballsPerOver)"></fa-icon></a>
    </th>
    <th class="text-right">
      <a (click)="sort(importedSortOrder.maidens)" class="btn btn-link">Maidens
        <fa-icon *ngIf="importedSortOrder.maidens == sortOrder" [icon]="getSortClass(importedSortOrder.maidens)"></fa-icon></a>
    </th>
    <th class="text-right">
      <a (click)="sort(importedSortOrder.runs)" class="btn btn-link">Runs
        <fa-icon *ngIf="importedSortOrder.runs == sortOrder" [icon]="getSortClass(importedSortOrder.runs)"></fa-icon></a>
    </th>
    <th class="text-right width5">
      <a (click)="sort(importedSortOrder.wickets)" class="btn btn-link">Wkts
        <fa-icon *ngIf="importedSortOrder.wickets == sortOrder" [icon]="getSortClass(importedSortOrder.wickets)"></fa-icon></a>
    </th>
    <th class="text-right">
      <a (click)="sort(importedSortOrder.econ)" class="btn btn-link">Econ
        <fa-icon *ngIf="importedSortOrder.econ == sortOrder" [icon]="getSortClass(importedSortOrder.econ)"></fa-icon></a>
    </th>
    <th class="text-right">
      <a (click)="sort(importedSortOrder.inningsNumber)" class="btn btn-link">Innings
        <fa-icon *ngIf="importedSortOrder.inningsNumber == sortOrder" [icon]="getSortClass(importedSortOrder.inningsNumber)"></fa-icon></a>
    </th>
    <th class="minwidth15"></th>
    <th class="text-left">
      <a (click)="sort(importedSortOrder.ground)" class="btn btn-link text-left">Ground
        <fa-icon *ngIf="importedSortOrder.ground == sortOrder" [icon]="getSortClass(importedSortOrder.ground)"></fa-icon></a>
    </th>
    <th class="text-right">
      <a (click)="sort(importedSortOrder.matchStartDate)" class="btn btn-link">Match Date
        <fa-icon *ngIf="importedSortOrder.matchStartDate == sortOrder" [icon]="getSortClass(importedSortOrder.matchStartDate)"></fa-icon></a>
    </th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let row of (bowlingInnByInn$ | async)?.sqlResults?.data">
    <td class="text-left" nowrap="nowrap">{{row.fullName}}</td>
    <td class="text-left" nowrap="nowrap">{{row.team}}</td>
    <td class="text-left" nowrap="nowrap">{{row.opponents}}</td>
    <td class="text-right" nowrap="nowrap">{{getOvers(row)}}</td>
    <td class="text-right" nowrap="nowrap">{{row.ballsPerOver}}</td>
    <td class="text-right" nowrap="nowrap">{{row.playerMaidens == null || row.playerMaidens == 0 ? "-" : row.playerMaidens}}</td>
    <td class="text-right" nowrap="nowrap">{{row.playerRuns}}</td>
    <td class="text-right" nowrap="nowrap">{{row.playerWickets}}</td>
    <td class="text-right" nowrap="nowrap">{{row.econ}}</td>
    <td class="text-right" nowrap="nowrap">{{row.inningsNumber}}</td>
    <td></td>
    <td class="text-left" nowrap="nowrap">{{row.ground}}</td>
    <td class="text-right" nowrap="nowrap">{{row.matchDate}}</td>
  </tr>
  </tbody>
</table>

<app-records-footer [pageSize]="pageSize" [totalItems]="count" [currentPage]="currentPage"
                    (first)="navigate(0)" (previous)="navigate($event)" (next)="navigate($event)"
                    (last)="navigate($event)"
                    (goto)="navigate($event)"></app-records-footer>
